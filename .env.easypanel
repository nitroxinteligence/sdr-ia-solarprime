# ==============================================
# SDR IA SolarPrime - Configuração Easypanel
# ==============================================
# Use estas variáveis no painel do Easypanel
# ==============================================

# ==============================================
# AMBIENTE E APLICAÇÃO
# ==============================================
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO
APP_NAME="SDR IA SolarPrime"
APP_VERSION="1.0.0"
SECRET_KEY="prod-secret-key-32-caracteres-aqui"
TIMEZONE="America/Sao_Paulo"

# ==============================================
# GOOGLE GEMINI AI (Core do Sistema)
# ==============================================
GEMINI_API_KEY=YOUR_GEMINI_API_KEY_HERE
GEMINI_MODEL=gemini-2.5-pro
GEMINI_TEMPERATURE=0.7
GEMINI_MAX_TOKENS=2048
GEMINI_TOP_P=0.95
GEMINI_TOP_K=40

# Alias para compatibilidade com AGnO Framework
GOOGLE_API_KEY=YOUR_GEMINI_API_KEY_HERE

# ==============================================
# OPENAI (Para Embeddings e Fallback)
# ==============================================
OPENAI_API_KEY=YOUR_OPENAI_API_KEY_HERE
OPENAI_MODEL=gpt-4.1-nano

# ==============================================
# EVOLUTION API (WhatsApp)
# ==============================================
# IMPORTANTE: Substitua 'evolution-api' pelo nome exato do seu serviço no EasyPanel
EVOLUTION_API_URL=http://evolution-api:8080
EVOLUTION_API_KEY=YOUR_EVOLUTION_API_KEY_HERE
EVOLUTION_INSTANCE_NAME=SDR IA SolarPrime

# ==============================================
# SUPABASE (Banco de Dados)
# ==============================================
SUPABASE_URL=YOUR_SUPABASE_URL_HERE
SUPABASE_ANON_KEY=YOUR_SUPABASE_ANON_KEY_HERE
SUPABASE_SERVICE_KEY=YOUR_SUPABASE_SERVICE_KEY_HERE

# ==============================================
# REDIS (Cache e Filas)
# ==============================================
# IMPORTANTE: Use o nome do serviço Redis no EasyPanel
REDIS_URL=redis://redis:6379/0
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=YOUR_REDIS_PASSWORD_HERE
REDIS_USERNAME=default

# ==============================================
# CONFIGURAÇÕES DE NEGÓCIO
# ==============================================
# Delays e Simulações
AI_RESPONSE_DELAY_SECONDS=2
TYPING_SIMULATION_ENABLED=true
MAX_MESSAGE_LENGTH=4096

# Message Buffer
MESSAGE_BUFFER_ENABLED=true
MESSAGE_BUFFER_TIMEOUT=8
MESSAGE_BUFFER_MAX_MESSAGES=20
MESSAGE_BUFFER_MIN_INTERVAL=0.5

# Message Chunking (Mensagens Picotadas)
MESSAGE_CHUNKING_ENABLED=true
CHUNK_JOIN_PROBABILITY=0.6
CHUNK_MAX_WORDS=30
CHUNK_MIN_WORDS=3
CHUNK_MAX_CHARS=1200
CHUNK_TYPING_WORDS_PER_MINUTE=150
CHUNK_READING_WORDS_PER_MINUTE=200

# AI Fallback Configuration
ENABLE_FALLBACK=true
MAX_AI_RETRIES=3
RETRY_DELAY_SECONDS=2
RESPONSE_CACHE_TTL_MINUTES=60

# ==============================================
# WEBHOOK E APIS
# ==============================================
# IMPORTANTE: Use o nome do serviço SDR IA no EasyPanel
WEBHOOK_BASE_URL=http://sdr-ia:8000
ALLOWED_ORIGINS=*
ALLOWED_HOSTS=*

# ==============================================
# MONITORAMENTO E PERFORMANCE
# ==============================================
CONNECTION_CHECK_INTERVAL=300
CONNECTION_ALERT_THRESHOLD=5
CONNECTION_MONITOR_ENABLED=true

# ==============================================
# POOLS E LIMITES
# ==============================================
# Database Pool
DB_POOL_MIN_SIZE=2
DB_POOL_MAX_SIZE=10
DB_POOL_MAX_QUERIES=50000
DB_POOL_MAX_INACTIVE_LIFETIME=300
DB_COMMAND_TIMEOUT=10

# Rate Limiting
RATE_LIMIT_DEFAULT=100
RATE_LIMIT_WINDOW=60
RATE_LIMIT_BURST=20
RATE_LIMIT_BURST_WINDOW=10
RATE_LIMIT_WEBHOOK=500
RATE_LIMIT_SEND_MESSAGE=60
RATE_LIMIT_API=200

# ==============================================
# KOMMO CRM (Opcional - deixe vazio se não usar)
# ==============================================
KOMMO_CLIENT_ID=
KOMMO_CLIENT_SECRET=
KOMMO_SUBDOMAIN=

# ==============================================
# FOLLOW-UP CONFIGURATION
# ==============================================
ENABLE_FOLLOW_UP=true              # Habilitar sistema de follow-up
FOLLOW_UP_DELAY_MINUTES=30         # Primeiro follow-up após 30 minutos
FOLLOW_UP_SECOND_DELAY_HOURS=24    # Segundo follow-up após 24 horas